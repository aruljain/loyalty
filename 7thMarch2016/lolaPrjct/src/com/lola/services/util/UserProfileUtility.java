package com.lola.services.util;

import java.util.List;

import javax.servlet.ServletContext;
import javax.ws.rs.core.Context;

import org.codehaus.jettison.json.JSONArray;
import org.codehaus.jettison.json.JSONObject;

import com.lola.dao.UserDao;
import com.lola.dao.UserDaoImpl;
import com.lola.dao.UserProfileDao;
import com.lola.dao.UserProfileDaoImpl;
import com.lola.model.User;
import com.lola.model.UserProfile;

public class UserProfileUtility {

	@Context 
	ServletContext context;



	private static UserProfileDao userProfileDaoImpl;
	private static UserDao userDaoImpl;

	JSONObject obj =new JSONObject();
	JSONArray jsonArray = new JSONArray();
	JSONArray jsonErrorArray = new JSONArray();


	public UserProfileUtility() {
		userProfileDaoImpl = new UserProfileDaoImpl();
		userDaoImpl = new UserDaoImpl();
	}

	//UserDao userDaoImpl =new UserDaoImpl();

	@Context
	public void setServletContext(ServletContext context) {
		System.out.println("servlet context set here");
		this.context = context;



	}

// This is used for my setting for save user profile details
	public String saveorupdate(int userid,String imageString,String salutation,String dob,String gender,String mycities,boolean maritalstatus,boolean veg,String weddinganv,String username,String location,String baseLocation,String email,String mobile,String password) throws Exception{

String default_profile_img=null;
		try{
			String msg = "";	

			List<UserProfile> userProfileDb=userProfileDaoImpl.findByuserid(userid);
			UserProfile userProfileUi=new UserProfile();

			if( userProfileDb.size()>0){	

				for(UserProfile o : userProfileDb)
				{
					userProfileUi.setUserid(userid);

					/*if(imageString!="" || imageString!=null){
						userProfileUi.setProfilepic(imageString);
					}
						
					else
						userProfileUi.setProfilepic(o.getProfilepic());*/
					
					
					if(!imageString.isEmpty()){
						
						ImageUtility.writeImageStringtoImageFile(imageString,LolaConstants.CONTEXT_PATH+o.getProfileid()+".jpg");
						if(!o.getProfilepic().isEmpty())					
						userProfileUi.setProfilepic(o.getProfilepic());
						else
							userProfileUi.setProfilepic(LolaConstants.USERPROFILEPICTURE_CONTEXT_PATH+o.getProfileid()+".jpg");					
						
					}else{
						default_profile_img="iVBORw0KGgoAAAANSUhEUgAAAREAAAERCAYAAABclJOOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw_eHBhY2tldCBiZWdpbj0i77u_IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8-IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE4OTRGQkE1N0JFNDExRTU4OTFGODE4M0ExRTA2REY0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE4OTRGQkE2N0JFNDExRTU4OTFGODE4M0ExRTA2REY0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTg5NEZCQTM3QkU0MTFFNTg5MUY4MTgzQTFFMDZERjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTg5NEZCQTQ3QkU0MTFFNTg5MUY4MTgzQTFFMDZERjQiLz4gPC9yZGY6RGVzY3JpcHRpb24-IDwvcmRmOlJERj4gPC94OnhtcG1ldGE-IDw_eHBhY2tldCBlbmQ9InIiPz70ZAAeAAAefUlEQVR42uydCbhd0xXHV66QIAhCg4iYhyLGGiKmCmIsakjVTJRqqqooLarmqSU11hBVbQ2tUGPNCTGHyItZoxFJKlJDQiIS6fpnr8fLy3v3nnPvGfY-5__7vvW9DPfed8_a-_zP3muvvXaHpqYmIYVmIbWeZt9SW1qtm_1saZ3VFrb3LK62gFpHtcXUpqrNUput9qm9ZrraDLWP1CarTWllk9TGmc1kMxSXjnRBYYRiHbV11VZTW1ltFbVeasurVRr8_MVa_LlbzPd-pTZB7V21sfbzbbXRamMoMBQRkj3LqG2qtr7Zemprqi3o6feFgPUw26rV_2F084YJyij7-bzaB2zmcOjA6Yz3rK22hd2AfdTWKME1v6n2tNpwtRFqr6vNYVfgSIREA1OQndV2MtFYpoQ-WMPsEPv7FBOUB9UesCkR4UiEGAhobm3C0V9tLbqkJhiZ3G-CMkxcgJdQRErFomq7qe1n4rEIXVI3n9sI5Ta1e9Sm0SWczhSVhW2ksb8JCIUjGeDHvcyw7Hyv2q32czrdw5FI8P5V66s2UG1PtS50SWZgRHKX2nVqTwgDsxSRwFhWXFDwCHHLryRf3lK7Xu1G4fJx4lTogkRHHTvY3Pw9tQspIN6wutr5auPV7lDb0dqLUES8YCEbdSBZ6iG1fe3fiH8gIW8fcYHYUdZubCuKSG50VTtZXCr3EHGZoyQc1rN2G2vt2JUuoYhkBfaiXCpuY9n59ncSdnueb1PQy9RWoEsoImmxgnUybB77mcy7KY2ED1bOBln7Dha314dQRBIBu1YRJH3LOtnCdEmhQQbxceL271wi8XctU0TI10AsTrMn0y8oHqVs_xPU3rF-wPaniMTyycHi9mecrbYEXVJqFrd-ADE5nPcMRaQWm6s9q3aTuEpghDSznLiEtResnxCKyDwsax3kKbVN6A5ShQ3F1TgZIq7cJEWk5NePrMUj1V7jUJXE7DeH2JR3YNn7TZkvHnU7UIvij2pL8b4gdYAEtWusH61DESkPKH9witpLMn_NT0LqARXoRopbxSldeY2yiQieFqjdeZ64fABCkqKTuFWcZ8TVxaWIFHAOi0QxRNYZOCVpsrH1s2OkJDuFyyAi3cXt2kTKOhOGSBag2tqVakOlBIW2iy4iqJj-slo_9muSA3uovWL9kCISGDgC8hxxFcG5lk_yHgmjH2KncCGDrkUUEZwre5_aqcLqVcQP0A9Rs-RRKWCpgaKJyEbiglo7st8SD-lr_bMPRcRPDhOXtt6LfZV4Pr15TO1HFBF_QPzjcrUbhLkfJAxQ6_UqcSs4C1BE8gXb9BH_-An7JQkQ5JLcLYGfRxSyiPS06QvjHyRkdhG39ybYWr2hisj64rZjf5t9kBQAlBdAunyQJwaEKCLbqQ0XVuUmxWJFG1lvTxFJF5xnixjI4uxzpIDgBAEcRL47RSQdDhJ3BCJXYEiR6Wz9fH-KSLIcJa7uaUf2MVICcLTnLWqHUkSS4cfiqkcxhZ2UCeSPIPfpWIpIYyCrbzAFhJQU9Psr7EFKEakDnP1yJQWEkLkPUm-nNr6KyPdtKEcBIcTdB9ep7UcRiQYy-G6RAuwpICRBcD_crLYbRaQ6SLS5XVx0mhAyLwvZ_eFVQppPIoKU33-Iq09JCGmbznafeJMi74uI9BCXicrDswmpTfPu9R4UEQ8dQkggePPgzVtEECy6VQLdvUiIJyGAXBch8hYRnAWzE_sCIXWDIOvgsooIaqL-mH2AkIZBhbSjyyYiqMp-BduekMRAneFcDqjPQ0S62TyOR1oSkhzIIUEJgczLLGYtIggAIRt1JbY5IYmD0x7_JhmXzMhaRM4SFlYmJE1wQNZ5RRWR_mq_ZBsTkjo_V9u5aCKCU79uFO7KJSQLOtj9tkxRRAQXdLPN14h_fKY2W22S2iNqD6uNVZtD1wQNHtyZlNPIIgAzSG0HtqkXjFcbKu6wpOfVxql9JW5T14xWr0Xl8XXFnYmyhdmqdGFQoGwAqgNeleoooampKc3PX0fcKehczs0XCMZF4pbWZzfwOcuYmGyr9l1xadecovrN52qbqr0aoohgOfdpuwCSDyPVzlC7J6XPxxQVATwEzbF9oStd7m0_2ExtVhofnmZM5HgKSG5MVjvC_H9Pir_nv-KO8jjARik72Tz8YzaBVyBD_KTQRiKrqL2itijbL1MQ38B2gtNzvpE7maBAXHCaWxc2Te58obax2pgQRiKYI19NAcmc98QFsAd5MBJAh71b7Qc25YGYDLV_J_kJ-7Vp3PNpiAiOeujHNsuU29R6qz3m4XdDYA81Y_YyQcHu7afZZLmwpdpA30UE8-JL2VaZMVPcEh7Obf0ogO_7idoQ68zfUbvTpmAkO5AS391nETlXbSm2UyZMsenLNYF-fyw77622idrjbM7M6CoJ761JUkSQlHQ42ygTEP9A7YjhBbiWl9S2M0F5j02bCQebeHslIgimXiZhHBAeOmNNQF4v2HVhaoPktT-xiVOnYvdrh6Q-LAlw7GVftk3qjLcpzLiCXh9iJoeoDRC3p4ekx5bmZy9EBPsuLmabZHKDITP03yW4VhTW6VNgsfQFxEYaPiwuCRE5Qa0n2yNVsN9lX7WmEl3zKBvdvsHmTw3ctw1nsjYqIktJium05Gt-pfZQCa97nE3fxrMLpAYGAQ3VHWlURE4RHn2ZNo-qXVji64eA7GLTOZI8i9l9nIuIoKr0cWyDVJkmLtBY9oSs0eJS6FkoKR2OlQaOsW1ERE4W1glJm99wKP81OHf2t3RDKnRuZDRS7y5ejELepoikCorIbKD2JV3xNajE97z5hSQLNkeict37WY1ETqSApM4ZFJD5mGVDb05rkge7fOtaJKlHRJB7fxR9niqviStlSOYHO4D_SjekAu7rblmIyJHCIjNpg1Peubu1fc7haCQVMLsYlLaI4LzPE-jrVEH9jT_TDVVBvOhhuiEVjos7SIgrIqhQtRz9nCqoiTqVbqjJDXRBKiypdmBaItKBo5BMuIsuiMQ_1abTDakwSGLs8I0jIjhnpDf9mzosHRgN7PIdRjekAs6L2jENERlI36YOShyOpRsi8zhdkBrHJi0i2KCzJ_2aOu_QBbF4ii5IjV0l4u78qCJyqLiVGZIuLA8Yj1fogtTACZZHJCUiHaJ-GGmYSXRBLLCz9326ITUOjaIRUURka7U16c_MbgrC0ZsvYDqzQxIiciR9mRkz6YLYTKALUuWwRkUEabAMqGYH8x7iM5kuSJU9xBUuqltEdqn1AYTkDHc6pwsKOX-vERHZnz4knjONLkidAfWKyKLi1opJtqpPiG8guLpkPSKyOzt15nSiC2KzOF2QOgtKldhoNRHZj77LnCXpgtiwwl427B1XRPBE3Jl-y5yl6AIKr8dTmi5xRGQbKjxviED4Fl2Q2Yhvhzgi0p8-y4Vl6YLYrEAXZMaucUSEU5l86EEXxGIhikim9I8qIiurrUV_5UJXYRHsOOCclAXohkxHfd-OIiIchXA0Egrr0gWZ048i4j-96ILI8CS87Nmhlojg733pp1xZjS6IzIZ0QeZs1XoK2VpE1hMuM-YN41HRQLGsTeiGzFlCWhVsby0i29BHubMGXRCJtcXV_iXZs3U1EdmC_qGIBAIfePnRp5qIbE7_5A43lEVjI7ogNzZvT0S6C1cGfOA1uiASHemC3OhhejGfiDBIlT9fqJ1EN0Tin3RBrmzWlohwuSx_9hEeyBSVO9WG0g25sWFbIsLEnXwZqXYv3RCZOWq_pxtyYwOORPzjWbogNq_SBf6MRFBPdSX6JVc-oAti8xFdkBsrip0E0Swia0n0c3kJ8YXOdEFuIGN47ZYisg59kjssARAf5tTkyzotRYSbvvwYHpJ49KQLcmWNliLSi_7wo0FILFahC3Jl1ZYisjL94cXQcCG6IRa96YJcWZ0i4hcQEObqxINZ1vnSq1lE0HmXpz-8YFu6IDI4lY0bRvMFtYe6QER6Cpd3fYHb2-ONQnjMa_70rAiDqj6BJ2sHuiESW9EFXtADIrIc_eANOEaTwUKO2kJieYgIS8z5xYF0QU3QZ_vRDX60BUci_nG08DjNWqDmCpfD_aB7RXgSvW9gU9OVwthIe6BI8CC6wRuWhojwiAj_QHGin9MNbU5j7uAoxCu6QkS60g9eQhGZnwHCGB5FhESfawo3mLVmW7rATxFh1Wx_4bEI88IMVf9YACLCrD-KSAjgmAKuJPrH4hCRBekHb9mULvgaZqh6SvMGPOInfdU60Q1z2Yku8JJFISIL0w_-NhCfwG7erbYL3eAlHSEiTGriEziEqQyzeP2kE0SExW79Zk-6QH5AF3hLZ4jIp_SD16D2aplXaTDd3pfdwFtmQETm0A_ec3CJr_37wq0ZPvMFRGQ6_eA9P5TyBsCPZfN7zSyIyEz6wXuWNiEpG32EWaq-8xlEZBb9EATHS_lW0k5ls_sPROQzuiEIcC5NmZZ7N1Prz2b3nk85EgmLM0s0GrlQmMMUArMhIh_TD0E9nb9XguvcVVwFM-I_H1NEwuNscWngRWVBG4UQighJCcRGflTg6zverpEEJCL_ox-C4xwpZm0NnDJ_Bps3KKZARCbQD8GxhNqlBbsmTNGuF7dzmYTDJIjIZPohSA5Q26tA13OK8FS7EJkMEZlEPwTLdWorFOA6thS3fE3CYyJE5D36IVhw8NjNEvZqDY6AuEVYMDxU3qOIhM924pZ9QwSlOf-m1ovNGLaIIO19Cn0RNCdLmAeBX6a2PZsvWJAeMrVif3mX_ggapIf_UVxGayj8Roqd71IG5upGs4i8RX8ED-qN3K-2XgDf9Wdqp7PJgufNliLyDv1RCFAB7BG1NT3-jjhj-FI2VSF4hyORYoLVjkfFz9Txs9QuZhMVcyQyhv4oFMurDVPbwpPvg1WYG9V-zaYpFKNbishrwoLNRWNpG5EMyPl7rKz2hNqhbJJCMVvt1ZYigmXed-mXwtFZ7S9qv5N8juNE7ZORwjqpRQQhkOktRQS8TL8EyQR7KlQD2-tHqPXO6DshwIvNdP9Q68omKiSjmv_QUkReol-CfBogNwSHO82o8VocgPWCuII_i6T0fZC6foS4gNvhUru84Qw2YbCMbktEOBIJCyyvIdtzvNqdat-V2pnHuMl_YeIzSJI7ywaB04Fqb4jbFNgtwntuV-uudpDaRDZnMUTkefolGP4tbs_M-Bb_hunKlhIt5werN5fZa5H0tWqd3wPTo_Pt-1yjtkqE92DqhaMg9lf7RO3PapuoPcNmDYqRzX_o0NTU1PI_xgo3Q_nOu2rbqv2nnf9HDALLqXEKOs8xEULG61Piou4ftHoNigWh7MD6alup7ai2dszvjs881H5PaxD4_b0wFT4E8PBaseXwtiXPUES85lm1_dTGVXkNNkXtLS6YeoG4wse1QOyij1nLEQOmRzhSZGlpfHXnbrWj2hCnZr5QO8YEZrBaTza3t8wzaqy0-s-n6R8vwQ12mo0AxkUcWWBZd2MTnnpAjZJlberTiIB8aKOPPasISGuxWUvc_pqP2PReMqKaiAynf7zjYZtCnCvxDxobbXGSn0r2Vf1xxvMlaqur3RTzvdNtatNPXKIa8Yth1URkFNXfG96yaQlupDcb-Jyv1C63m_lyu0HTFg-s0GDvzokNiteL4uI_u6k1sUt4wafSaiW30kaHe5J-yhUETAfaTXhngp_7oY1IsBKDWh5JV_nH52GlZmWLfSS5M_xecStBhwkzq_MG-jC7moiAB-inXHhdXILWGuIKDKV1RjJyMs4UF0DfR1y-xrQ6PwvxGWSmYqUGgdBfSnpHkOABN0RtNXErT_-yfyPZT6_nofUSr9iT6m36KjOQn3OBjTryuimwgoPMV-xxWd9uVJQUQCHoDiYyOORsvE2zEGsZLvmXkMCS8wCzjdiVMmG91lPLtkQEYFfvWvRXanxhI4ArhElWSYER3IFmq9IdqTBB2jiipNLOi_9Ff6UC4gRYql1JXLo3BSQ5EHzGEZwIIPdVu1ZtKt2SKPe19Y_tici99FdiYDUE56r0s6cllmr_S7ekBnJkEPw7WlyOC4K8z9EtidCmLrQ3ncHGrCmS3AatsvGVxQwgHreJ2yNC8gWrO8fYCHARuqOuKTg2Vk6LOhLB0_NB-i32ExBB0pPELXNuK26VhQLiB8iBwr4c7PnAKtJ4uiQWD0s7q3iVKm-6jX6LNOLA0Bkp2r3UvqN2kURLTSf5gFUm5LNgxzFWdbjVIxp_b-8_2pvOgC42d-fQb36Q03GlOXYC3RE8GJ2gNMGxNook8_Kl2nLSTr2aaiMRDF3uo__mAXEOJFYhm3QwBaQw4DxqHGWBlR1sNXiRLpmHR6RKwatKjTffSv99PfLYVW1rtYeElfGLCtK5kfS3qbiSkzzUzfGXav9ZS0Tuk_pToosyjMM-k94clZUKPCTuEJedebaktwUhBD5XG9qIiOAD7iqp88bZyONMcTtTSfnAKiUO3EIdl7El9QHqu0xtRETA9SV03DM2pGVGKQEo7IQ6sI-V8NqH1HpBFBF5XBqrZxEauF5UTv-A9w5pAZaGd5ZkyzP4DnJpHkpCRDA_vKEkTkOy2O42jSOkNZjWHiDlqbmDinQ1d5ZXIn7YjSWICyCIeoiUO5BMognJkeLSwIsMxOPaKC-MKiIY2v-z4E5DnsBrvEdIBHBI14UFv0asRkbKvK7E-NBrCuyw98Ut5RESlXOl2Ptvror6wjgigg04rxbUYb8VxkFIPGZYvykiqGwYuUxqHBFBgPWCAjoMWYk38J4gdXCDFLOUKE4FiFyqsxLzw_8mxTt8GcL4Je8HUgfIZC1abARHfNwY5w1xRWSmqVRRgCD-ifcCaQAcSF6kSnWo-xtrhbJSxy-5WoqzDIrt_F_wPiANgNT4PxToWi6L-6Z6RATDnSKkwmNUdS3vAZIAfyzIlBgxnslZiAhA9a4ZgTsMeS9MbSdJgOnMPQV4qJ5fzxvrFZH3CzAa4YoMSZLrC_D968p7qVYesRY4xAbLW50DdBgqkqEkHo9hJEmxgD1cvxXgd0dcEMeZ1FUbuNLAL4bDrgy0wW-ngJCEQVW0UGvvXC0NFBevNPjLz1P7NECnsZI9SYMQywSg4NC5jXxAoyLyodolgTkNRXl5TABJg0clvHOGLpUGFxgqCXyJiyWsc1awKsNCyyQNZkpYu90Rkrio0Q9JQkSwce2UgBx3F_s64ZRmLrhvP_NBRAD21IRQ7QmZtk-wn5MUeUDC2BGO-sG3JPFBSYkIpgc4StL3FQ8U2mWaO0mTz8X_gs64X3-a1LS-kuAXe0FcTUafeZh9nLCfzd10-lxSH1ZJ-MvhtPWPPHbeI-zfpOQigtWjU5P8wKRFBHsITvTUechSHcP-TTJgjPhbHuA0SfgM6UoKXxIFTR710HlPsm-TjECsYZiH3wuHcF2V9IdWUnLgQPEvQk0RIWXub8hhOUpSWPyopPSFUbf0DDYqKTHDPfs-56iNTuODKyl-6d-pveiJA5FQ8wr7NcmQVzwajb8sbp9bKqQpItjViBPlfCheNMq-DyFZMdtu3rxBycODJMXKa5WULwBR6lM9cOQL7NMkB3wYiZ-k1pTmL6hkcBG_l_xXa0ayP5MSisj94qq3p0oWIoLVmh9KHQVgKSKEIlI3yFM5TDLYsV7J6IImZnVBbYDg1qvszyQHXpN8gqu4z46UjBLeKhle2L2SQO2COkCUnEFVkgd5BVdxdkxm1ecrGV8cgqxZ7195iX2Z5EjWIvKU2slZ_sKsRQTKPEBcicIsh5SE5EWWU2nEHQ8Ql51aWBFpvtC9Jbu6HhQRkievZ_R7IBz7Sp1nx4QmIgB5Gz_O6He9wX5MciSrh9jPJaeqfZUcnYsTt65K-XdMzXjqREhrsO0-7QrwuI9yO1S8krODf6J2dwGGkoTkNRr5l91HuZG3iCDQ-gNJaXehMB5Cii0iuG_2k5xTGCoeOBg7bHeRdAJCb7L_Eg94O4XPHG_3Te6HZVU8cXJaDvk3-y_xgKQPd_skxQdvsCLSPDRLeumXIkKKJiJYyv1-iiGAoEUEYLfvvpJcsgxFhBRJRGap7S-eVZOveOhwnGV6sDQeLEKsZTL7L_GA9xPoz7Ptvhjq28VVPHX6reKKyjay63cc-y7xBFQVm9jA-3Ef_Ejtrz5eXMVjx-PoiUEUEcIpzdwjaq_z9cIqnjv-DyYk9YxI3me_JYGLCPr98eK29ntLxwCcP1hcQAll3jpQREhJRGS2TWGu8_3CKoE0APYGHC7xglMT2G9JoCKCh-ZBIQhISCIChohL8Y2aRzKR_ZYEKCLo38gD-WsoF1YJrCH-obaruN25nM6QoonINLXd1e4K6cIqATYGyituE2GkgYDUIuy7xAM6qR1X4zWT1LZTeyi0i6sE2iiom7qlVN8deaDaCLXV2YdJjqyg9pi46uvtgY2ifSTQQ9YqATfOu-b4aoWfe6s9p7Yn-zLJgR3tgbdFjZH15hLwFo1K4I30kdrOaldXeU1XtTvVzldbkP2aZABSJ84SdwLdMlVeh9WX_taPg6VSgAbDctgxasdK-4cWI78EZfSf4vSGpMwq4mqd_rrK_YV-impkR0mKB21TROKDXJLvSvVTvzYVd6TmEezrJAUOkW_ide2BTaH9JMeaqBSR6gxX29h-tkcXG0b-Xa0b-z1JgCXFbRodorZ4ldc9rbah5FSVnSISHeSHbK92iVTfc4MCSGPEHfZDSL2gH-GAqv2qvAb98HfiUhMKl79UKWjDIk5yotpuUr2myLLiMgOR3LMC7wcSg-42mv27_bk9pqh9T-0EKUD8o0wi0sx94pZ5a53_u4eNSo4ugU9IYyBIf5iNPvau8drHrP_dXWSHlOGGQWYr1utxQtiMKq9bQtxSMVZwNuO9QtoA8QwkMN4gLg7SHtj_cpLaDlKC7Rdleep-pXap2ibioufV2Nw6yvU23SEEAfhrxGWUbl7jtaPErQJeZP2u8JRt6I4py3fUfiXVdwPDLyg98IaNYBbifVRK0O7Y8_KW2sAa9wuKi59hAjK6TE4q4_wfQddzxC0Fj6jxWmS7XmziM0DiFUUiYd8XOJkRcY_B1g-q8ZyNcpGl-mUZnVVWIAx9xWW7flzjtaup_cWGs7vwHis0SEN_Ue0WtVVrvPYTG6lsUbbRB0XkGzBnRTB1bXHBslpz2I3U7hUXfO3P-61QILdomLgVvQ1qvHaOPVTQb66QksQ-KCLVQS2HI2w--0yE129pnQ0p9PvQj8HSwR4GT4pLA-gb4T0IzG8rrtQEq-ex88_HSBMIzIejVKLCkt8dak3i9k0wABsGaKcfqr1sD4M-Ed4z0R40m9iIhVBEqg5VkcW6lrhVnCilGDGsHaL2H3vPMnSjlyCz9HRrp5vV1o_wHpQsRMB0jYhT3vIN55qamuiF6iBH4FRxAdjOEd-D5ePbxe0sHkEX5g6W9XF-0b4xRoszrf2wksfjWCkiidBDXE0S1IDoFON9r9soBU8-HmORHcta3AIp6uvFeB_EA4mG56m9RzdSRNIAG_WQ0oyamXEKQePMnAdNUHBo-Qy6MnEwyuhvwoGl-DiV7KbbdOUCigdFJMtpDqpTIU9gqZjv_dSEBEHZBygoDYFRIfZG4awWbKTsGvP9KE14pdrlah_QnRSRPMBo5GC1n4oLxsZlqgnK3SYon9ClNcFmSWxuwxb73e3vcUGFdZxxe5PaZ3QpRcQLX9oTEQFY1DFZoI7PQEr-CBMTGJYg59C1c8Fy-s5mWIav5xxpTCmxpHuVTS250kIR8RYEYRGAPVStZwOfg3qxKPU4zH6-UpKOj9SDb4urBLaV2tZqyzXweePVbhQXMP0PuydFJLSbYXsTExSwWbjBz8NUB9mV2PCFxDhkTxahXgUEYiOzTU04lmzwM6fbNPEmG3XMZnekiIQOCkTvJW43MObzSZ2BM8nE5GWb579uP__noQ8gDEjaWlNc_AjJXthN3T2hz8d0EOnr2NcyVFwAm1BECglupj1sdAJBSePM4A9NTMaKy08ZbzbBRi9YlZiWsEhiZQRL4MurrdjizyubeKSRyTvDhAO1ThGcnsLuRREpG5ji4CBn5DcgaLhahr97lonJx_az-cn9ZTsC06XFCGoxE8MlTTyyPF3wbXGBZ5ww97ja5-xGFBHyDauZmOwkbhViKbpkrsg9abGNB0xECEWERGkftXXE7TKFoGCr-ioluG4cbo2l7uH2ExXGuBxLESEJgSAkVjCwH6S3_cT5wh0DvR4suaK4MQLDCBA_K6zTQREhmYPUb-RVrGvTIYxWeokLaC4n-deGnWiji3fN8OcxNsKYyuYLm450QSFA6YGRZm0JTC8zrI4sbdathSEwitRxbGBb1N63WKv-gTyL5sDr5_Y7PzHDVnmsBk1pYR_YKAOiwb1BBeb_AgwAcNOLzPwIRO4AAAAASUVORK5CYII";
						ImageUtility.writeImageStringtoImageFile(default_profile_img,LolaConstants.CONTEXT_PATH+o.getProfileid()+".jpg");
						if((!o.getProfilepic().isEmpty()) || o.getProfilepic()==null || o.getProfilepic().equals(""))
						userProfileUi.setProfilepic(LolaConstants.USERPROFILEPICTURE_CONTEXT_PATH+o.getProfileid()+".jpg");
						
					}
					
					userProfileUi.setBaseLocation(o.getBaseLocation());
						
					
					if(!salutation.isEmpty())
						userProfileUi.setSalutation(salutation);
					else
						userProfileUi.setSalutation(o.getSalutation());
					
					if(!dob.isEmpty())
						userProfileUi.setDob(dob);
					else
						userProfileUi.setDob(o.getDob());
					
					if(!gender.isEmpty())
						userProfileUi.setGender(gender);
					else
						userProfileUi.setGender(o.getGender());
					
					if(!baseLocation.isEmpty())
						userProfileUi.setBaseLocation(baseLocation);
					else
						userProfileUi.setBaseLocation(o.getBaseLocation());
					
					if(!mycities.isEmpty())
						userProfileUi.setMycities(mycities);
					else
						userProfileUi.setMycities(o.getMycities());

					userProfileUi.setMaritalstatus(maritalstatus);
					userProfileUi.setVeg(veg);		

					if(!weddinganv.isEmpty())
						userProfileUi.setWeddinganv(weddinganv);
					else
						userProfileUi.setWeddinganv(o.getWeddinganv());

					userProfileUi.setCreatedby(userid);						
		

					userProfileUi.setProfileid(o.getProfileid());
					userProfileDaoImpl.update(userProfileUi);
					msg = "User Profile Updated";					

				}
			}

			else
			{				

				userProfileUi.setDob(dob);

				userProfileUi.setGender(gender);

				userProfileUi.setMycities(mycities);

				userProfileUi.setMaritalstatus(maritalstatus);
				
				userProfileUi.setVeg(veg);		

				userProfileUi.setWeddinganv(weddinganv);

				userProfileUi.setCreatedby(userid);		
				
				userProfileUi.setUserid(userid);

				userProfileDaoImpl.persist(userProfileUi);
				if(!imageString.isEmpty()){
					ImageUtility.writeImageStringtoImageFile(imageString,LolaConstants.CONTEXT_PATH+userProfileUi.getProfileid()+".jpg");				
					userProfileUi.setProfilepic(LolaConstants.USERPROFILEPICTURE_CONTEXT_PATH+userProfileUi.getProfileid()+".jpg");
					userProfileDaoImpl.update(userProfileUi);
				}
				else{
					default_profile_img="iVBORw0KGgoAAAANSUhEUgAAAREAAAERCAYAAABclJOOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw_eHBhY2tldCBiZWdpbj0i77u_IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8-IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE4OTRGQkE1N0JFNDExRTU4OTFGODE4M0ExRTA2REY0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE4OTRGQkE2N0JFNDExRTU4OTFGODE4M0ExRTA2REY0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTg5NEZCQTM3QkU0MTFFNTg5MUY4MTgzQTFFMDZERjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTg5NEZCQTQ3QkU0MTFFNTg5MUY4MTgzQTFFMDZERjQiLz4gPC9yZGY6RGVzY3JpcHRpb24-IDwvcmRmOlJERj4gPC94OnhtcG1ldGE-IDw_eHBhY2tldCBlbmQ9InIiPz70ZAAeAAAefUlEQVR42uydCbhd0xXHV66QIAhCg4iYhyLGGiKmCmIsakjVTJRqqqooLarmqSU11hBVbQ2tUGPNCTGHyItZoxFJKlJDQiIS6fpnr8fLy3v3nnPvGfY-5__7vvW9DPfed8_a-_zP3muvvXaHpqYmIYVmIbWeZt9SW1qtm_1saZ3VFrb3LK62gFpHtcXUpqrNUput9qm9ZrraDLWP1CarTWllk9TGmc1kMxSXjnRBYYRiHbV11VZTW1ltFbVeasurVRr8_MVa_LlbzPd-pTZB7V21sfbzbbXRamMoMBQRkj3LqG2qtr7Zemprqi3o6feFgPUw26rV_2F084YJyij7-bzaB2zmcOjA6Yz3rK22hd2AfdTWKME1v6n2tNpwtRFqr6vNYVfgSIREA1OQndV2MtFYpoQ-WMPsEPv7FBOUB9UesCkR4UiEGAhobm3C0V9tLbqkJhiZ3G-CMkxcgJdQRErFomq7qe1n4rEIXVI3n9sI5Ta1e9Sm0SWczhSVhW2ksb8JCIUjGeDHvcyw7Hyv2q32czrdw5FI8P5V66s2UG1PtS50SWZgRHKX2nVqTwgDsxSRwFhWXFDwCHHLryRf3lK7Xu1G4fJx4lTogkRHHTvY3Pw9tQspIN6wutr5auPV7lDb0dqLUES8YCEbdSBZ6iG1fe3fiH8gIW8fcYHYUdZubCuKSG50VTtZXCr3EHGZoyQc1rN2G2vt2JUuoYhkBfaiXCpuY9n59ncSdnueb1PQy9RWoEsoImmxgnUybB77mcy7KY2ED1bOBln7Dha314dQRBIBu1YRJH3LOtnCdEmhQQbxceL271wi8XctU0TI10AsTrMn0y8oHqVs_xPU3rF-wPaniMTyycHi9mecrbYEXVJqFrd-ADE5nPcMRaQWm6s9q3aTuEpghDSznLiEtResnxCKyDwsax3kKbVN6A5ShQ3F1TgZIq7cJEWk5NePrMUj1V7jUJXE7DeH2JR3YNn7TZkvHnU7UIvij2pL8b4gdYAEtWusH61DESkPKH9witpLMn_NT0LqARXoRopbxSldeY2yiQieFqjdeZ64fABCkqKTuFWcZ8TVxaWIFHAOi0QxRNYZOCVpsrH1s2OkJDuFyyAi3cXt2kTKOhOGSBag2tqVakOlBIW2iy4iqJj-slo_9muSA3uovWL9kCISGDgC8hxxFcG5lk_yHgmjH2KncCGDrkUUEZwre5_aqcLqVcQP0A9Rs-RRKWCpgaKJyEbiglo7st8SD-lr_bMPRcRPDhOXtt6LfZV4Pr15TO1HFBF_QPzjcrUbhLkfJAxQ6_UqcSs4C1BE8gXb9BH_-An7JQkQ5JLcLYGfRxSyiPS06QvjHyRkdhG39ybYWr2hisj64rZjf5t9kBQAlBdAunyQJwaEKCLbqQ0XVuUmxWJFG1lvTxFJF5xnixjI4uxzpIDgBAEcRL47RSQdDhJ3BCJXYEiR6Wz9fH-KSLIcJa7uaUf2MVICcLTnLWqHUkSS4cfiqkcxhZ2UCeSPIPfpWIpIYyCrbzAFhJQU9Psr7EFKEakDnP1yJQWEkLkPUm-nNr6KyPdtKEcBIcTdB9ep7UcRiQYy-G6RAuwpICRBcD_crLYbRaQ6SLS5XVx0mhAyLwvZ_eFVQppPIoKU33-Iq09JCGmbznafeJMi74uI9BCXicrDswmpTfPu9R4UEQ8dQkggePPgzVtEECy6VQLdvUiIJyGAXBch8hYRnAWzE_sCIXWDIOvgsooIaqL-mH2AkIZBhbSjyyYiqMp-BduekMRAneFcDqjPQ0S62TyOR1oSkhzIIUEJgczLLGYtIggAIRt1JbY5IYmD0x7_JhmXzMhaRM4SFlYmJE1wQNZ5RRWR_mq_ZBsTkjo_V9u5aCKCU79uFO7KJSQLOtj9tkxRRAQXdLPN14h_fKY2W22S2iNqD6uNVZtD1wQNHtyZlNPIIgAzSG0HtqkXjFcbKu6wpOfVxql9JW5T14xWr0Xl8XXFnYmyhdmqdGFQoGwAqgNeleoooampKc3PX0fcKehczs0XCMZF4pbWZzfwOcuYmGyr9l1xadecovrN52qbqr0aoohgOfdpuwCSDyPVzlC7J6XPxxQVATwEzbF9oStd7m0_2ExtVhofnmZM5HgKSG5MVjvC_H9Pir_nv-KO8jjARik72Tz8YzaBVyBD_KTQRiKrqL2itijbL1MQ38B2gtNzvpE7maBAXHCaWxc2Te58obax2pgQRiKYI19NAcmc98QFsAd5MBJAh71b7Qc25YGYDLV_J_kJ-7Vp3PNpiAiOeujHNsuU29R6qz3m4XdDYA81Y_YyQcHu7afZZLmwpdpA30UE8-JL2VaZMVPcEh7Obf0ogO_7idoQ68zfUbvTpmAkO5AS391nETlXbSm2UyZMsenLNYF-fyw77622idrjbM7M6CoJ761JUkSQlHQ42ygTEP9A7YjhBbiWl9S2M0F5j02bCQebeHslIgimXiZhHBAeOmNNQF4v2HVhaoPktT-xiVOnYvdrh6Q-LAlw7GVftk3qjLcpzLiCXh9iJoeoDRC3p4ekx5bmZy9EBPsuLmabZHKDITP03yW4VhTW6VNgsfQFxEYaPiwuCRE5Qa0n2yNVsN9lX7WmEl3zKBvdvsHmTw3ctw1nsjYqIktJium05Gt-pfZQCa97nE3fxrMLpAYGAQ3VHWlURE4RHn2ZNo-qXVji64eA7GLTOZI8i9l9nIuIoKr0cWyDVJkmLtBY9oSs0eJS6FkoKR2OlQaOsW1ERE4W1glJm99wKP81OHf2t3RDKnRuZDRS7y5ejELepoikCorIbKD2JV3xNajE97z5hSQLNkeict37WY1ETqSApM4ZFJD5mGVDb05rkge7fOtaJKlHRJB7fxR9niqviStlSOYHO4D_SjekAu7rblmIyJHCIjNpg1Peubu1fc7haCQVMLsYlLaI4LzPE-jrVEH9jT_TDVVBvOhhuiEVjos7SIgrIqhQtRz9nCqoiTqVbqjJDXRBKiypdmBaItKBo5BMuIsuiMQ_1abTDakwSGLs8I0jIjhnpDf9mzosHRgN7PIdRjekAs6L2jENERlI36YOShyOpRsi8zhdkBrHJi0i2KCzJ_2aOu_QBbF4ii5IjV0l4u78qCJyqLiVGZIuLA8Yj1fogtTACZZHJCUiHaJ-GGmYSXRBLLCz9326ITUOjaIRUURka7U16c_MbgrC0ZsvYDqzQxIiciR9mRkz6YLYTKALUuWwRkUEabAMqGYH8x7iM5kuSJU9xBUuqltEdqn1AYTkDHc6pwsKOX-vERHZnz4knjONLkidAfWKyKLi1opJtqpPiG8guLpkPSKyOzt15nSiC2KzOF2QOgtKldhoNRHZj77LnCXpgtiwwl427B1XRPBE3Jl-y5yl6AIKr8dTmi5xRGQbKjxviED4Fl2Q2Yhvhzgi0p8-y4Vl6YLYrEAXZMaucUSEU5l86EEXxGIhikim9I8qIiurrUV_5UJXYRHsOOCclAXohkxHfd-OIiIchXA0Egrr0gWZ048i4j-96ILI8CS87Nmhlojg733pp1xZjS6IzIZ0QeZs1XoK2VpE1hMuM-YN41HRQLGsTeiGzFlCWhVsby0i29BHubMGXRCJtcXV_iXZs3U1EdmC_qGIBAIfePnRp5qIbE7_5A43lEVjI7ogNzZvT0S6C1cGfOA1uiASHemC3OhhejGfiDBIlT9fqJ1EN0Tin3RBrmzWlohwuSx_9hEeyBSVO9WG0g25sWFbIsLEnXwZqXYv3RCZOWq_pxtyYwOORPzjWbogNq_SBf6MRFBPdSX6JVc-oAti8xFdkBsrip0E0Swia0n0c3kJ8YXOdEFuIGN47ZYisg59kjssARAf5tTkyzotRYSbvvwYHpJ49KQLcmWNliLSi_7wo0FILFahC3Jl1ZYisjL94cXQcCG6IRa96YJcWZ0i4hcQEObqxINZ1vnSq1lE0HmXpz-8YFu6IDI4lY0bRvMFtYe6QER6Cpd3fYHb2-ONQnjMa_70rAiDqj6BJ2sHuiESW9EFXtADIrIc_eANOEaTwUKO2kJieYgIS8z5xYF0QU3QZ_vRDX60BUci_nG08DjNWqDmCpfD_aB7RXgSvW9gU9OVwthIe6BI8CC6wRuWhojwiAj_QHGin9MNbU5j7uAoxCu6QkS60g9eQhGZnwHCGB5FhESfawo3mLVmW7rATxFh1Wx_4bEI88IMVf9YACLCrD-KSAjgmAKuJPrH4hCRBekHb9mULvgaZqh6SvMGPOInfdU60Q1z2Yku8JJFISIL0w_-NhCfwG7erbYL3eAlHSEiTGriEziEqQyzeP2kE0SExW79Zk-6QH5AF3hLZ4jIp_SD16D2aplXaTDd3pfdwFtmQETm0A_ec3CJr_37wq0ZPvMFRGQ6_eA9P5TyBsCPZfN7zSyIyEz6wXuWNiEpG32EWaq-8xlEZBb9EATHS_lW0k5ls_sPROQzuiEIcC5NmZZ7N1Prz2b3nk85EgmLM0s0GrlQmMMUArMhIh_TD0E9nb9XguvcVVwFM-I_H1NEwuNscWngRWVBG4UQighJCcRGflTg6zverpEEJCL_ox-C4xwpZm0NnDJ_Bps3KKZARCbQD8GxhNqlBbsmTNGuF7dzmYTDJIjIZPohSA5Q26tA13OK8FS7EJkMEZlEPwTLdWorFOA6thS3fE3CYyJE5D36IVhw8NjNEvZqDY6AuEVYMDxU3qOIhM924pZ9QwSlOf-m1ovNGLaIIO19Cn0RNCdLmAeBX6a2PZsvWJAeMrVif3mX_ggapIf_UVxGayj8Roqd71IG5upGs4i8RX8ED-qN3K-2XgDf9Wdqp7PJgufNliLyDv1RCFAB7BG1NT3-jjhj-FI2VSF4hyORYoLVjkfFz9Txs9QuZhMVcyQyhv4oFMurDVPbwpPvg1WYG9V-zaYpFKNbishrwoLNRWNpG5EMyPl7rKz2hNqhbJJCMVvt1ZYigmXed-mXwtFZ7S9qv5N8juNE7ZORwjqpRQQhkOktRQS8TL8EyQR7KlQD2-tHqPXO6DshwIvNdP9Q68omKiSjmv_QUkReol-CfBogNwSHO82o8VocgPWCuII_i6T0fZC6foS4gNvhUru84Qw2YbCMbktEOBIJCyyvIdtzvNqdat-V2pnHuMl_YeIzSJI7ywaB04Fqb4jbFNgtwntuV-uudpDaRDZnMUTkefolGP4tbs_M-Bb_hunKlhIt5werN5fZa5H0tWqd3wPTo_Pt-1yjtkqE92DqhaMg9lf7RO3PapuoPcNmDYqRzX_o0NTU1PI_xgo3Q_nOu2rbqv2nnf9HDALLqXEKOs8xEULG61Piou4ftHoNigWh7MD6alup7ai2dszvjs881H5PaxD4_b0wFT4E8PBaseXwtiXPUES85lm1_dTGVXkNNkXtLS6YeoG4wse1QOyij1nLEQOmRzhSZGlpfHXnbrWj2hCnZr5QO8YEZrBaTza3t8wzaqy0-s-n6R8vwQ12mo0AxkUcWWBZd2MTnnpAjZJlberTiIB8aKOPPasISGuxWUvc_pqP2PReMqKaiAynf7zjYZtCnCvxDxobbXGSn0r2Vf1xxvMlaqur3RTzvdNtatNPXKIa8Yth1URkFNXfG96yaQlupDcb-Jyv1C63m_lyu0HTFg-s0GDvzokNiteL4uI_u6k1sUt4wafSaiW30kaHe5J-yhUETAfaTXhngp_7oY1IsBKDWh5JV_nH52GlZmWLfSS5M_xecStBhwkzq_MG-jC7moiAB-inXHhdXILWGuIKDKV1RjJyMs4UF0DfR1y-xrQ6PwvxGWSmYqUGgdBfSnpHkOABN0RtNXErT_-yfyPZT6_nofUSr9iT6m36KjOQn3OBjTryuimwgoPMV-xxWd9uVJQUQCHoDiYyOORsvE2zEGsZLvmXkMCS8wCzjdiVMmG91lPLtkQEYFfvWvRXanxhI4ArhElWSYER3IFmq9IdqTBB2jiipNLOi_9Ff6UC4gRYql1JXLo3BSQ5EHzGEZwIIPdVu1ZtKt2SKPe19Y_tici99FdiYDUE56r0s6cllmr_S7ekBnJkEPw7WlyOC4K8z9EtidCmLrQ3ncHGrCmS3AatsvGVxQwgHreJ2yNC8gWrO8fYCHARuqOuKTg2Vk6LOhLB0_NB-i32ExBB0pPELXNuK26VhQLiB8iBwr4c7PnAKtJ4uiQWD0s7q3iVKm-6jX6LNOLA0Bkp2r3UvqN2kURLTSf5gFUm5LNgxzFWdbjVIxp_b-8_2pvOgC42d-fQb36Q03GlOXYC3RE8GJ2gNMGxNook8_Kl2nLSTr2aaiMRDF3uo__mAXEOJFYhm3QwBaQw4DxqHGWBlR1sNXiRLpmHR6RKwatKjTffSv99PfLYVW1rtYeElfGLCtK5kfS3qbiSkzzUzfGXav9ZS0Tuk_pToosyjMM-k94clZUKPCTuEJedebaktwUhBD5XG9qIiOAD7iqp88bZyONMcTtTSfnAKiUO3EIdl7El9QHqu0xtRETA9SV03DM2pGVGKQEo7IQ6sI-V8NqH1HpBFBF5XBqrZxEauF5UTv-A9w5pAZaGd5ZkyzP4DnJpHkpCRDA_vKEkTkOy2O42jSOkNZjWHiDlqbmDinQ1d5ZXIn7YjSWICyCIeoiUO5BMognJkeLSwIsMxOPaKC-MKiIY2v-z4E5DnsBrvEdIBHBI14UFv0asRkbKvK7E-NBrCuyw98Ut5RESlXOl2Ptvror6wjgigg04rxbUYb8VxkFIPGZYvykiqGwYuUxqHBFBgPWCAjoMWYk38J4gdXCDFLOUKE4FiFyqsxLzw_8mxTt8GcL4Je8HUgfIZC1abARHfNwY5w1xRWSmqVRRgCD-ifcCaQAcSF6kSnWo-xtrhbJSxy-5WoqzDIrt_F_wPiANgNT4PxToWi6L-6Z6RATDnSKkwmNUdS3vAZIAfyzIlBgxnslZiAhA9a4ZgTsMeS9MbSdJgOnMPQV4qJ5fzxvrFZH3CzAa4YoMSZLrC_D968p7qVYesRY4xAbLW50DdBgqkqEkHo9hJEmxgD1cvxXgd0dcEMeZ1FUbuNLAL4bDrgy0wW-ngJCEQVW0UGvvXC0NFBevNPjLz1P7NECnsZI9SYMQywSg4NC5jXxAoyLyodolgTkNRXl5TABJg0clvHOGLpUGFxgqCXyJiyWsc1awKsNCyyQNZkpYu90Rkrio0Q9JQkSwce2UgBx3F_s64ZRmLrhvP_NBRAD21IRQ7QmZtk-wn5MUeUDC2BGO-sG3JPFBSYkIpgc4StL3FQ8U2mWaO0mTz8X_gs64X3-a1LS-kuAXe0FcTUafeZh9nLCfzd10-lxSH1ZJ-MvhtPWPPHbeI-zfpOQigtWjU5P8wKRFBHsITvTUechSHcP-TTJgjPhbHuA0SfgM6UoKXxIFTR710HlPsm-TjECsYZiH3wuHcF2V9IdWUnLgQPEvQk0RIWXub8hhOUpSWPyopPSFUbf0DDYqKTHDPfs-56iNTuODKyl-6d-pveiJA5FQ8wr7NcmQVzwajb8sbp9bKqQpItjViBPlfCheNMq-DyFZMdtu3rxBycODJMXKa5WULwBR6lM9cOQL7NMkB3wYiZ-k1pTmL6hkcBG_l_xXa0ayP5MSisj94qq3p0oWIoLVmh9KHQVgKSKEIlI3yFM5TDLYsV7J6IImZnVBbYDg1qvszyQHXpN8gqu4z46UjBLeKhle2L2SQO2COkCUnEFVkgd5BVdxdkxm1ecrGV8cgqxZ7195iX2Z5EjWIvKU2slZ_sKsRQTKPEBcicIsh5SE5EWWU2nEHQ8Ql51aWBFpvtC9Jbu6HhQRkievZ_R7IBz7Sp1nx4QmIgB5Gz_O6He9wX5MciSrh9jPJaeqfZUcnYsTt65K-XdMzXjqREhrsO0-7QrwuI9yO1S8krODf6J2dwGGkoTkNRr5l91HuZG3iCDQ-gNJaXehMB5Cii0iuG_2k5xTGCoeOBg7bHeRdAJCb7L_Eg94O4XPHG_3Te6HZVU8cXJaDvk3-y_xgKQPd_skxQdvsCLSPDRLeumXIkKKJiJYyv1-iiGAoEUEYLfvvpJcsgxFhBRJRGap7S-eVZOveOhwnGV6sDQeLEKsZTL7L_GA9xPoz7Ptvhjq28VVPHX6reKKyjay63cc-y7xBFQVm9jA-3Ef_Ejtrz5eXMVjx-PoiUEUEcIpzdwjaq_z9cIqnjv-DyYk9YxI3me_JYGLCPr98eK29ntLxwCcP1hcQAll3jpQREhJRGS2TWGu8_3CKoE0APYGHC7xglMT2G9JoCKCh-ZBIQhISCIChohL8Y2aRzKR_ZYEKCLo38gD-WsoF1YJrCH-obaruN25nM6QoonINLXd1e4K6cIqATYGyituE2GkgYDUIuy7xAM6qR1X4zWT1LZTeyi0i6sE2iiom7qlVN8deaDaCLXV2YdJjqyg9pi46uvtgY2ifSTQQ9YqATfOu-b4aoWfe6s9p7Yn-zLJgR3tgbdFjZH15hLwFo1K4I30kdrOaldXeU1XtTvVzldbkP2aZABSJ84SdwLdMlVeh9WX_taPg6VSgAbDctgxasdK-4cWI78EZfSf4vSGpMwq4mqd_rrK_YV-impkR0mKB21TROKDXJLvSvVTvzYVd6TmEezrJAUOkW_ide2BTaH9JMeaqBSR6gxX29h-tkcXG0b-Xa0b-z1JgCXFbRodorZ4ldc9rbah5FSVnSISHeSHbK92iVTfc4MCSGPEHfZDSL2gH-GAqv2qvAb98HfiUhMKl79UKWjDIk5yotpuUr2myLLiMgOR3LMC7wcSg-42mv27_bk9pqh9T-0EKUD8o0wi0sx94pZ5a53_u4eNSo4ugU9IYyBIf5iNPvau8drHrP_dXWSHlOGGQWYr1utxQtiMKq9bQtxSMVZwNuO9QtoA8QwkMN4gLg7SHtj_cpLaDlKC7Rdleep-pXap2ibioufV2Nw6yvU23SEEAfhrxGWUbl7jtaPErQJeZP2u8JRt6I4py3fUfiXVdwPDLyg98IaNYBbifVRK0O7Y8_KW2sAa9wuKi59hAjK6TE4q4_wfQddzxC0Fj6jxWmS7XmziM0DiFUUiYd8XOJkRcY_B1g-q8ZyNcpGl-mUZnVVWIAx9xWW7flzjtaup_cWGs7vwHis0SEN_Ue0WtVVrvPYTG6lsUbbRB0XkGzBnRTB1bXHBslpz2I3U7hUXfO3P-61QILdomLgVvQ1qvHaOPVTQb66QksQ-KCLVQS2HI2w--0yE129pnQ0p9PvQj8HSwR4GT4pLA-gb4T0IzG8rrtQEq-ex88_HSBMIzIejVKLCkt8dak3i9k0wABsGaKcfqr1sD4M-Ed4z0R40m9iIhVBEqg5VkcW6lrhVnCilGDGsHaL2H3vPMnSjlyCz9HRrp5vV1o_wHpQsRMB0jYhT3vIN55qamuiF6iBH4FRxAdjOEd-D5ePbxe0sHkEX5g6W9XF-0b4xRoszrf2wksfjWCkiidBDXE0S1IDoFON9r9soBU8-HmORHcta3AIp6uvFeB_EA4mG56m9RzdSRNIAG_WQ0oyamXEKQePMnAdNUHBo-Qy6MnEwyuhvwoGl-DiV7KbbdOUCigdFJMtpDqpTIU9gqZjv_dSEBEHZBygoDYFRIfZG4awWbKTsGvP9KE14pdrlah_QnRSRPMBo5GC1n4oLxsZlqgnK3SYon9ClNcFmSWxuwxb73e3vcUGFdZxxe5PaZ3QpRcQLX9oTEQFY1DFZoI7PQEr-CBMTGJYg59C1c8Fy-s5mWIav5xxpTCmxpHuVTS250kIR8RYEYRGAPVStZwOfg3qxKPU4zH6-UpKOj9SDb4urBLaV2tZqyzXweePVbhQXMP0PuydFJLSbYXsTExSwWbjBz8NUB9mV2PCFxDhkTxahXgUEYiOzTU04lmzwM6fbNPEmG3XMZnekiIQOCkTvJW43MObzSZ2BM8nE5GWb579uP__noQ8gDEjaWlNc_AjJXthN3T2hz8d0EOnr2NcyVFwAm1BECglupj1sdAJBSePM4A9NTMaKy08ZbzbBRi9YlZiWsEhiZQRL4MurrdjizyubeKSRyTvDhAO1ThGcnsLuRREpG5ji4CBn5DcgaLhahr97lonJx_az-cn9ZTsC06XFCGoxE8MlTTyyPF3wbXGBZ5ww97ja5-xGFBHyDauZmOwkbhViKbpkrsg9abGNB0xECEWERGkftXXE7TKFoGCr-ioluG4cbo2l7uH2ExXGuBxLESEJgSAkVjCwH6S3_cT5wh0DvR4suaK4MQLDCBA_K6zTQREhmYPUb-RVrGvTIYxWeokLaC4n-deGnWiji3fN8OcxNsKYyuYLm450QSFA6YGRZm0JTC8zrI4sbdathSEwitRxbGBb1N63WKv-gTyL5sDr5_Y7PzHDVnmsBk1pYR_YKAOiwb1BBeb_AgwAcNOLzPwIRO4AAAAASUVORK5CYII";
					ImageUtility.writeImageStringtoImageFile(default_profile_img,LolaConstants.CONTEXT_PATH+userProfileUi.getProfileid()+".jpg");
					userProfileUi.setProfilepic(LolaConstants.USERPROFILEPICTURE_CONTEXT_PATH+userProfileUi.getProfileid()+".jpg");
					userProfileDaoImpl.update(userProfileUi);
				}
				msg = "User Profile Saved";	
			}

			

			       UserUtility userUtility =new UserUtility();
					
						
						userUtility.updateCustomer(userid, username, password, email, location, mobile);
					
				
			   
			
			
			obj.put("Status","Success");  
			obj.put("userid",userProfileUi.getUserid());
			obj.put("Message",msg); 
			//jsonArray.put(obj);

		}catch(Exception e){
			obj.put("Status","Failure"); 
			obj.put("Message","Invalid UserId"); 
			jsonErrorArray.put(obj);
			
			System.out.println("Error :"+e.toString());
		}

		return obj.toString();

	}

	//This method created to do saveorupdate of user profile pic in user profile table during sign up
	public boolean saveorupdateUserProfilePic(int userid,String imageString,String salutation,String baseLocation) throws Exception{
		String msg = "";
		String default_profile_img="iVBORw0KGgoAAAANSUhEUgAAAREAAAERCAYAAABclJOOAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw_eHBhY2tldCBiZWdpbj0i77u_IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8-IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE4OTRGQkE1N0JFNDExRTU4OTFGODE4M0ExRTA2REY0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE4OTRGQkE2N0JFNDExRTU4OTFGODE4M0ExRTA2REY0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTg5NEZCQTM3QkU0MTFFNTg5MUY4MTgzQTFFMDZERjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTg5NEZCQTQ3QkU0MTFFNTg5MUY4MTgzQTFFMDZERjQiLz4gPC9yZGY6RGVzY3JpcHRpb24-IDwvcmRmOlJERj4gPC94OnhtcG1ldGE-IDw_eHBhY2tldCBlbmQ9InIiPz70ZAAeAAAefUlEQVR42uydCbhd0xXHV66QIAhCg4iYhyLGGiKmCmIsakjVTJRqqqooLarmqSU11hBVbQ2tUGPNCTGHyItZoxFJKlJDQiIS6fpnr8fLy3v3nnPvGfY-5__7vvW9DPfed8_a-_zP3muvvXaHpqYmIYVmIbWeZt9SW1qtm_1saZ3VFrb3LK62gFpHtcXUpqrNUput9qm9ZrraDLWP1CarTWllk9TGmc1kMxSXjnRBYYRiHbV11VZTW1ltFbVeasurVRr8_MVa_LlbzPd-pTZB7V21sfbzbbXRamMoMBQRkj3LqG2qtr7Zemprqi3o6feFgPUw26rV_2F084YJyij7-bzaB2zmcOjA6Yz3rK22hd2AfdTWKME1v6n2tNpwtRFqr6vNYVfgSIREA1OQndV2MtFYpoQ-WMPsEPv7FBOUB9UesCkR4UiEGAhobm3C0V9tLbqkJhiZ3G-CMkxcgJdQRErFomq7qe1n4rEIXVI3n9sI5Ta1e9Sm0SWczhSVhW2ksb8JCIUjGeDHvcyw7Hyv2q32czrdw5FI8P5V66s2UG1PtS50SWZgRHKX2nVqTwgDsxSRwFhWXFDwCHHLryRf3lK7Xu1G4fJx4lTogkRHHTvY3Pw9tQspIN6wutr5auPV7lDb0dqLUES8YCEbdSBZ6iG1fe3fiH8gIW8fcYHYUdZubCuKSG50VTtZXCr3EHGZoyQc1rN2G2vt2JUuoYhkBfaiXCpuY9n59ncSdnueb1PQy9RWoEsoImmxgnUybB77mcy7KY2ED1bOBln7Dha314dQRBIBu1YRJH3LOtnCdEmhQQbxceL271wi8XctU0TI10AsTrMn0y8oHqVs_xPU3rF-wPaniMTyycHi9mecrbYEXVJqFrd-ADE5nPcMRaQWm6s9q3aTuEpghDSznLiEtResnxCKyDwsax3kKbVN6A5ShQ3F1TgZIq7cJEWk5NePrMUj1V7jUJXE7DeH2JR3YNn7TZkvHnU7UIvij2pL8b4gdYAEtWusH61DESkPKH9witpLMn_NT0LqARXoRopbxSldeY2yiQieFqjdeZ64fABCkqKTuFWcZ8TVxaWIFHAOi0QxRNYZOCVpsrH1s2OkJDuFyyAi3cXt2kTKOhOGSBag2tqVakOlBIW2iy4iqJj-slo_9muSA3uovWL9kCISGDgC8hxxFcG5lk_yHgmjH2KncCGDrkUUEZwre5_aqcLqVcQP0A9Rs-RRKWCpgaKJyEbiglo7st8SD-lr_bMPRcRPDhOXtt6LfZV4Pr15TO1HFBF_QPzjcrUbhLkfJAxQ6_UqcSs4C1BE8gXb9BH_-An7JQkQ5JLcLYGfRxSyiPS06QvjHyRkdhG39ybYWr2hisj64rZjf5t9kBQAlBdAunyQJwaEKCLbqQ0XVuUmxWJFG1lvTxFJF5xnixjI4uxzpIDgBAEcRL47RSQdDhJ3BCJXYEiR6Wz9fH-KSLIcJa7uaUf2MVICcLTnLWqHUkSS4cfiqkcxhZ2UCeSPIPfpWIpIYyCrbzAFhJQU9Psr7EFKEakDnP1yJQWEkLkPUm-nNr6KyPdtKEcBIcTdB9ep7UcRiQYy-G6RAuwpICRBcD_crLYbRaQ6SLS5XVx0mhAyLwvZ_eFVQppPIoKU33-Iq09JCGmbznafeJMi74uI9BCXicrDswmpTfPu9R4UEQ8dQkggePPgzVtEECy6VQLdvUiIJyGAXBch8hYRnAWzE_sCIXWDIOvgsooIaqL-mH2AkIZBhbSjyyYiqMp-BduekMRAneFcDqjPQ0S62TyOR1oSkhzIIUEJgczLLGYtIggAIRt1JbY5IYmD0x7_JhmXzMhaRM4SFlYmJE1wQNZ5RRWR_mq_ZBsTkjo_V9u5aCKCU79uFO7KJSQLOtj9tkxRRAQXdLPN14h_fKY2W22S2iNqD6uNVZtD1wQNHtyZlNPIIgAzSG0HtqkXjFcbKu6wpOfVxql9JW5T14xWr0Xl8XXFnYmyhdmqdGFQoGwAqgNeleoooampKc3PX0fcKehczs0XCMZF4pbWZzfwOcuYmGyr9l1xadecovrN52qbqr0aoohgOfdpuwCSDyPVzlC7J6XPxxQVATwEzbF9oStd7m0_2ExtVhofnmZM5HgKSG5MVjvC_H9Pir_nv-KO8jjARik72Tz8YzaBVyBD_KTQRiKrqL2itijbL1MQ38B2gtNzvpE7maBAXHCaWxc2Te58obax2pgQRiKYI19NAcmc98QFsAd5MBJAh71b7Qc25YGYDLV_J_kJ-7Vp3PNpiAiOeujHNsuU29R6qz3m4XdDYA81Y_YyQcHu7afZZLmwpdpA30UE8-JL2VaZMVPcEh7Obf0ogO_7idoQ68zfUbvTpmAkO5AS391nETlXbSm2UyZMsenLNYF-fyw77622idrjbM7M6CoJ761JUkSQlHQ42ygTEP9A7YjhBbiWl9S2M0F5j02bCQebeHslIgimXiZhHBAeOmNNQF4v2HVhaoPktT-xiVOnYvdrh6Q-LAlw7GVftk3qjLcpzLiCXh9iJoeoDRC3p4ekx5bmZy9EBPsuLmabZHKDITP03yW4VhTW6VNgsfQFxEYaPiwuCRE5Qa0n2yNVsN9lX7WmEl3zKBvdvsHmTw3ctw1nsjYqIktJium05Gt-pfZQCa97nE3fxrMLpAYGAQ3VHWlURE4RHn2ZNo-qXVji64eA7GLTOZI8i9l9nIuIoKr0cWyDVJkmLtBY9oSs0eJS6FkoKR2OlQaOsW1ERE4W1glJm99wKP81OHf2t3RDKnRuZDRS7y5ejELepoikCorIbKD2JV3xNajE97z5hSQLNkeict37WY1ETqSApM4ZFJD5mGVDb05rkge7fOtaJKlHRJB7fxR9niqviStlSOYHO4D_SjekAu7rblmIyJHCIjNpg1Peubu1fc7haCQVMLsYlLaI4LzPE-jrVEH9jT_TDVVBvOhhuiEVjos7SIgrIqhQtRz9nCqoiTqVbqjJDXRBKiypdmBaItKBo5BMuIsuiMQ_1abTDakwSGLs8I0jIjhnpDf9mzosHRgN7PIdRjekAs6L2jENERlI36YOShyOpRsi8zhdkBrHJi0i2KCzJ_2aOu_QBbF4ii5IjV0l4u78qCJyqLiVGZIuLA8Yj1fogtTACZZHJCUiHaJ-GGmYSXRBLLCz9326ITUOjaIRUURka7U16c_MbgrC0ZsvYDqzQxIiciR9mRkz6YLYTKALUuWwRkUEabAMqGYH8x7iM5kuSJU9xBUuqltEdqn1AYTkDHc6pwsKOX-vERHZnz4knjONLkidAfWKyKLi1opJtqpPiG8guLpkPSKyOzt15nSiC2KzOF2QOgtKldhoNRHZj77LnCXpgtiwwl427B1XRPBE3Jl-y5yl6AIKr8dTmi5xRGQbKjxviED4Fl2Q2Yhvhzgi0p8-y4Vl6YLYrEAXZMaucUSEU5l86EEXxGIhikim9I8qIiurrUV_5UJXYRHsOOCclAXohkxHfd-OIiIchXA0Egrr0gWZ048i4j-96ILI8CS87Nmhlojg733pp1xZjS6IzIZ0QeZs1XoK2VpE1hMuM-YN41HRQLGsTeiGzFlCWhVsby0i29BHubMGXRCJtcXV_iXZs3U1EdmC_qGIBAIfePnRp5qIbE7_5A43lEVjI7ogNzZvT0S6C1cGfOA1uiASHemC3OhhejGfiDBIlT9fqJ1EN0Tin3RBrmzWlohwuSx_9hEeyBSVO9WG0g25sWFbIsLEnXwZqXYv3RCZOWq_pxtyYwOORPzjWbogNq_SBf6MRFBPdSX6JVc-oAti8xFdkBsrip0E0Swia0n0c3kJ8YXOdEFuIGN47ZYisg59kjssARAf5tTkyzotRYSbvvwYHpJ49KQLcmWNliLSi_7wo0FILFahC3Jl1ZYisjL94cXQcCG6IRa96YJcWZ0i4hcQEObqxINZ1vnSq1lE0HmXpz-8YFu6IDI4lY0bRvMFtYe6QER6Cpd3fYHb2-ONQnjMa_70rAiDqj6BJ2sHuiESW9EFXtADIrIc_eANOEaTwUKO2kJieYgIS8z5xYF0QU3QZ_vRDX60BUci_nG08DjNWqDmCpfD_aB7RXgSvW9gU9OVwthIe6BI8CC6wRuWhojwiAj_QHGin9MNbU5j7uAoxCu6QkS60g9eQhGZnwHCGB5FhESfawo3mLVmW7rATxFh1Wx_4bEI88IMVf9YACLCrD-KSAjgmAKuJPrH4hCRBekHb9mULvgaZqh6SvMGPOInfdU60Q1z2Yku8JJFISIL0w_-NhCfwG7erbYL3eAlHSEiTGriEziEqQyzeP2kE0SExW79Zk-6QH5AF3hLZ4jIp_SD16D2aplXaTDd3pfdwFtmQETm0A_ec3CJr_37wq0ZPvMFRGQ6_eA9P5TyBsCPZfN7zSyIyEz6wXuWNiEpG32EWaq-8xlEZBb9EATHS_lW0k5ls_sPROQzuiEIcC5NmZZ7N1Prz2b3nk85EgmLM0s0GrlQmMMUArMhIh_TD0E9nb9XguvcVVwFM-I_H1NEwuNscWngRWVBG4UQighJCcRGflTg6zverpEEJCL_ox-C4xwpZm0NnDJ_Bps3KKZARCbQD8GxhNqlBbsmTNGuF7dzmYTDJIjIZPohSA5Q26tA13OK8FS7EJkMEZlEPwTLdWorFOA6thS3fE3CYyJE5D36IVhw8NjNEvZqDY6AuEVYMDxU3qOIhM924pZ9QwSlOf-m1ovNGLaIIO19Cn0RNCdLmAeBX6a2PZsvWJAeMrVif3mX_ggapIf_UVxGayj8Roqd71IG5upGs4i8RX8ED-qN3K-2XgDf9Wdqp7PJgufNliLyDv1RCFAB7BG1NT3-jjhj-FI2VSF4hyORYoLVjkfFz9Txs9QuZhMVcyQyhv4oFMurDVPbwpPvg1WYG9V-zaYpFKNbishrwoLNRWNpG5EMyPl7rKz2hNqhbJJCMVvt1ZYigmXed-mXwtFZ7S9qv5N8juNE7ZORwjqpRQQhkOktRQS8TL8EyQR7KlQD2-tHqPXO6DshwIvNdP9Q68omKiSjmv_QUkReol-CfBogNwSHO82o8VocgPWCuII_i6T0fZC6foS4gNvhUru84Qw2YbCMbktEOBIJCyyvIdtzvNqdat-V2pnHuMl_YeIzSJI7ywaB04Fqb4jbFNgtwntuV-uudpDaRDZnMUTkefolGP4tbs_M-Bb_hunKlhIt5werN5fZa5H0tWqd3wPTo_Pt-1yjtkqE92DqhaMg9lf7RO3PapuoPcNmDYqRzX_o0NTU1PI_xgo3Q_nOu2rbqv2nnf9HDALLqXEKOs8xEULG61Piou4ftHoNigWh7MD6alup7ai2dszvjs881H5PaxD4_b0wFT4E8PBaseXwtiXPUES85lm1_dTGVXkNNkXtLS6YeoG4wse1QOyij1nLEQOmRzhSZGlpfHXnbrWj2hCnZr5QO8YEZrBaTza3t8wzaqy0-s-n6R8vwQ12mo0AxkUcWWBZd2MTnnpAjZJlberTiIB8aKOPPasISGuxWUvc_pqP2PReMqKaiAynf7zjYZtCnCvxDxobbXGSn0r2Vf1xxvMlaqur3RTzvdNtatNPXKIa8Yth1URkFNXfG96yaQlupDcb-Jyv1C63m_lyu0HTFg-s0GDvzokNiteL4uI_u6k1sUt4wafSaiW30kaHe5J-yhUETAfaTXhngp_7oY1IsBKDWh5JV_nH52GlZmWLfSS5M_xecStBhwkzq_MG-jC7moiAB-inXHhdXILWGuIKDKV1RjJyMs4UF0DfR1y-xrQ6PwvxGWSmYqUGgdBfSnpHkOABN0RtNXErT_-yfyPZT6_nofUSr9iT6m36KjOQn3OBjTryuimwgoPMV-xxWd9uVJQUQCHoDiYyOORsvE2zEGsZLvmXkMCS8wCzjdiVMmG91lPLtkQEYFfvWvRXanxhI4ArhElWSYER3IFmq9IdqTBB2jiipNLOi_9Ff6UC4gRYql1JXLo3BSQ5EHzGEZwIIPdVu1ZtKt2SKPe19Y_tici99FdiYDUE56r0s6cllmr_S7ekBnJkEPw7WlyOC4K8z9EtidCmLrQ3ncHGrCmS3AatsvGVxQwgHreJ2yNC8gWrO8fYCHARuqOuKTg2Vk6LOhLB0_NB-i32ExBB0pPELXNuK26VhQLiB8iBwr4c7PnAKtJ4uiQWD0s7q3iVKm-6jX6LNOLA0Bkp2r3UvqN2kURLTSf5gFUm5LNgxzFWdbjVIxp_b-8_2pvOgC42d-fQb36Q03GlOXYC3RE8GJ2gNMGxNook8_Kl2nLSTr2aaiMRDF3uo__mAXEOJFYhm3QwBaQw4DxqHGWBlR1sNXiRLpmHR6RKwatKjTffSv99PfLYVW1rtYeElfGLCtK5kfS3qbiSkzzUzfGXav9ZS0Tuk_pToosyjMM-k94clZUKPCTuEJedebaktwUhBD5XG9qIiOAD7iqp88bZyONMcTtTSfnAKiUO3EIdl7El9QHqu0xtRETA9SV03DM2pGVGKQEo7IQ6sI-V8NqH1HpBFBF5XBqrZxEauF5UTv-A9w5pAZaGd5ZkyzP4DnJpHkpCRDA_vKEkTkOy2O42jSOkNZjWHiDlqbmDinQ1d5ZXIn7YjSWICyCIeoiUO5BMognJkeLSwIsMxOPaKC-MKiIY2v-z4E5DnsBrvEdIBHBI14UFv0asRkbKvK7E-NBrCuyw98Ut5RESlXOl2Ptvror6wjgigg04rxbUYb8VxkFIPGZYvykiqGwYuUxqHBFBgPWCAjoMWYk38J4gdXCDFLOUKE4FiFyqsxLzw_8mxTt8GcL4Je8HUgfIZC1abARHfNwY5w1xRWSmqVRRgCD-ifcCaQAcSF6kSnWo-xtrhbJSxy-5WoqzDIrt_F_wPiANgNT4PxToWi6L-6Z6RATDnSKkwmNUdS3vAZIAfyzIlBgxnslZiAhA9a4ZgTsMeS9MbSdJgOnMPQV4qJ5fzxvrFZH3CzAa4YoMSZLrC_D968p7qVYesRY4xAbLW50DdBgqkqEkHo9hJEmxgD1cvxXgd0dcEMeZ1FUbuNLAL4bDrgy0wW-ngJCEQVW0UGvvXC0NFBevNPjLz1P7NECnsZI9SYMQywSg4NC5jXxAoyLyodolgTkNRXl5TABJg0clvHOGLpUGFxgqCXyJiyWsc1awKsNCyyQNZkpYu90Rkrio0Q9JQkSwce2UgBx3F_s64ZRmLrhvP_NBRAD21IRQ7QmZtk-wn5MUeUDC2BGO-sG3JPFBSYkIpgc4StL3FQ8U2mWaO0mTz8X_gs64X3-a1LS-kuAXe0FcTUafeZh9nLCfzd10-lxSH1ZJ-MvhtPWPPHbeI-zfpOQigtWjU5P8wKRFBHsITvTUechSHcP-TTJgjPhbHuA0SfgM6UoKXxIFTR710HlPsm-TjECsYZiH3wuHcF2V9IdWUnLgQPEvQk0RIWXub8hhOUpSWPyopPSFUbf0DDYqKTHDPfs-56iNTuODKyl-6d-pveiJA5FQ8wr7NcmQVzwajb8sbp9bKqQpItjViBPlfCheNMq-DyFZMdtu3rxBycODJMXKa5WULwBR6lM9cOQL7NMkB3wYiZ-k1pTmL6hkcBG_l_xXa0ayP5MSisj94qq3p0oWIoLVmh9KHQVgKSKEIlI3yFM5TDLYsV7J6IImZnVBbYDg1qvszyQHXpN8gqu4z46UjBLeKhle2L2SQO2COkCUnEFVkgd5BVdxdkxm1ecrGV8cgqxZ7195iX2Z5EjWIvKU2slZ_sKsRQTKPEBcicIsh5SE5EWWU2nEHQ8Ql51aWBFpvtC9Jbu6HhQRkievZ_R7IBz7Sp1nx4QmIgB5Gz_O6He9wX5MciSrh9jPJaeqfZUcnYsTt65K-XdMzXjqREhrsO0-7QrwuI9yO1S8krODf6J2dwGGkoTkNRr5l91HuZG3iCDQ-gNJaXehMB5Cii0iuG_2k5xTGCoeOBg7bHeRdAJCb7L_Eg94O4XPHG_3Te6HZVU8cXJaDvk3-y_xgKQPd_skxQdvsCLSPDRLeumXIkKKJiJYyv1-iiGAoEUEYLfvvpJcsgxFhBRJRGap7S-eVZOveOhwnGV6sDQeLEKsZTL7L_GA9xPoz7Ptvhjq28VVPHX6reKKyjay63cc-y7xBFQVm9jA-3Ef_Ejtrz5eXMVjx-PoiUEUEcIpzdwjaq_z9cIqnjv-DyYk9YxI3me_JYGLCPr98eK29ntLxwCcP1hcQAll3jpQREhJRGS2TWGu8_3CKoE0APYGHC7xglMT2G9JoCKCh-ZBIQhISCIChohL8Y2aRzKR_ZYEKCLo38gD-WsoF1YJrCH-obaruN25nM6QoonINLXd1e4K6cIqATYGyituE2GkgYDUIuy7xAM6qR1X4zWT1LZTeyi0i6sE2iiom7qlVN8deaDaCLXV2YdJjqyg9pi46uvtgY2ifSTQQ9YqATfOu-b4aoWfe6s9p7Yn-zLJgR3tgbdFjZH15hLwFo1K4I30kdrOaldXeU1XtTvVzldbkP2aZABSJ84SdwLdMlVeh9WX_taPg6VSgAbDctgxasdK-4cWI78EZfSf4vSGpMwq4mqd_rrK_YV-impkR0mKB21TROKDXJLvSvVTvzYVd6TmEezrJAUOkW_ide2BTaH9JMeaqBSR6gxX29h-tkcXG0b-Xa0b-z1JgCXFbRodorZ4ldc9rbah5FSVnSISHeSHbK92iVTfc4MCSGPEHfZDSL2gH-GAqv2qvAb98HfiUhMKl79UKWjDIk5yotpuUr2myLLiMgOR3LMC7wcSg-42mv27_bk9pqh9T-0EKUD8o0wi0sx94pZ5a53_u4eNSo4ugU9IYyBIf5iNPvau8drHrP_dXWSHlOGGQWYr1utxQtiMKq9bQtxSMVZwNuO9QtoA8QwkMN4gLg7SHtj_cpLaDlKC7Rdleep-pXap2ibioufV2Nw6yvU23SEEAfhrxGWUbl7jtaPErQJeZP2u8JRt6I4py3fUfiXVdwPDLyg98IaNYBbifVRK0O7Y8_KW2sAa9wuKi59hAjK6TE4q4_wfQddzxC0Fj6jxWmS7XmziM0DiFUUiYd8XOJkRcY_B1g-q8ZyNcpGl-mUZnVVWIAx9xWW7flzjtaup_cWGs7vwHis0SEN_Ue0WtVVrvPYTG6lsUbbRB0XkGzBnRTB1bXHBslpz2I3U7hUXfO3P-61QILdomLgVvQ1qvHaOPVTQb66QksQ-KCLVQS2HI2w--0yE129pnQ0p9PvQj8HSwR4GT4pLA-gb4T0IzG8rrtQEq-ex88_HSBMIzIejVKLCkt8dak3i9k0wABsGaKcfqr1sD4M-Ed4z0R40m9iIhVBEqg5VkcW6lrhVnCilGDGsHaL2H3vPMnSjlyCz9HRrp5vV1o_wHpQsRMB0jYhT3vIN55qamuiF6iBH4FRxAdjOEd-D5ePbxe0sHkEX5g6W9XF-0b4xRoszrf2wksfjWCkiidBDXE0S1IDoFON9r9soBU8-HmORHcta3AIp6uvFeB_EA4mG56m9RzdSRNIAG_WQ0oyamXEKQePMnAdNUHBo-Qy6MnEwyuhvwoGl-DiV7KbbdOUCigdFJMtpDqpTIU9gqZjv_dSEBEHZBygoDYFRIfZG4awWbKTsGvP9KE14pdrlah_QnRSRPMBo5GC1n4oLxsZlqgnK3SYon9ClNcFmSWxuwxb73e3vcUGFdZxxe5PaZ3QpRcQLX9oTEQFY1DFZoI7PQEr-CBMTGJYg59C1c8Fy-s5mWIav5xxpTCmxpHuVTS250kIR8RYEYRGAPVStZwOfg3qxKPU4zH6-UpKOj9SDb4urBLaV2tZqyzXweePVbhQXMP0PuydFJLSbYXsTExSwWbjBz8NUB9mV2PCFxDhkTxahXgUEYiOzTU04lmzwM6fbNPEmG3XMZnekiIQOCkTvJW43MObzSZ2BM8nE5GWb579uP__noQ8gDEjaWlNc_AjJXthN3T2hz8d0EOnr2NcyVFwAm1BECglupj1sdAJBSePM4A9NTMaKy08ZbzbBRi9YlZiWsEhiZQRL4MurrdjizyubeKSRyTvDhAO1ThGcnsLuRREpG5ji4CBn5DcgaLhahr97lonJx_az-cn9ZTsC06XFCGoxE8MlTTyyPF3wbXGBZ5ww97ja5-xGFBHyDauZmOwkbhViKbpkrsg9abGNB0xECEWERGkftXXE7TKFoGCr-ioluG4cbo2l7uH2ExXGuBxLESEJgSAkVjCwH6S3_cT5wh0DvR4suaK4MQLDCBA_K6zTQREhmYPUb-RVrGvTIYxWeokLaC4n-deGnWiji3fN8OcxNsKYyuYLm450QSFA6YGRZm0JTC8zrI4sbdathSEwitRxbGBb1N63WKv-gTyL5sDr5_Y7PzHDVnmsBk1pYR_YKAOiwb1BBeb_AgwAcNOLzPwIRO4AAAAASUVORK5CYII";
		
		try{

			/*File file = new File("D:/SFA_Workspace/TestPrj/src/ti.png");			
String imagString  = ImageUtility.encodeImage(file);
String comi = ImageUtility.compress(imagString);
System.out.println("* "+imagString+" *");*/
			
			UserProfile userProfile=new UserProfile();
			userProfile.setUserid(userid);
			if(imageString.isEmpty() || imageString==null)
				imageString = default_profile_img;			
			userProfile.setSalutation(salutation);
			userProfile.setBaseLocation(baseLocation);
			userProfile.setCreatedby(userProfile.getUserid());		


			UserProfileDao userProfileDaoImpl=new UserProfileDaoImpl();
			//	String imageString  = ImageUtility.encodeImage(file);		
			int userProfileId = userProfileDaoImpl.isUserProfileExist(userProfile.getUserid());
			if(userProfileId!=0)	
			{
				userProfile.setProfileid(userProfileId);
				ImageUtility.writeImageStringtoImageFile(imageString, LolaConstants.CONTEXT_PATH+userProfile.getProfileid()+".jpg");
				userProfile.setProfilepic(LolaConstants.USERPROFILEPICTURE_CONTEXT_PATH+userProfile.getProfileid()+".jpg");
				userProfileDaoImpl.update(userProfile);
				msg = "User Profile Updated";
			}
			else{
				userProfileDaoImpl.saveorupdate(userProfile);
				ImageUtility.writeImageStringtoImageFile(imageString,LolaConstants.CONTEXT_PATH+userProfile.getProfileid()+".jpg");
				userProfile.setProfilepic(LolaConstants.USERPROFILEPICTURE_CONTEXT_PATH+userProfile.getProfileid()+".jpg");
				userProfileDaoImpl.update(userProfile);
				msg = "User Profile Saved";	
			}	
			
			



		}catch(Exception e){
			System.out.println(e);
			return false;
		}

		System.out.println(msg);

		return true;

	}


	public String findUserProfileByuserid(int userid) throws Exception{
		try{
			List<UserProfile> userProfile=userProfileDaoImpl.findByuserid(userid);
			if(userProfile.size()>0){
				for(UserProfile o:userProfile){

					obj.put("Status","Success"); 
					obj.put("UserId", o.getUserid());
					obj.put("ProfileIdId", o.getProfileid());
					obj.put("DOB", o.getDob());
					obj.put("Gender", o.getGender());
					obj.put("Maritalstatus", o.isMaritalstatus());
					obj.put("Veg", o.isVeg());
					obj.put("Weddinganv", o.getWeddinganv());
					obj.put("Createdon",o.getCreatedon()); 


				}
			}else{
				obj.put("Status","Failure"); 
				obj.put("Message", "No Records");
			}

			return obj.toString();

		}catch(Exception e){
			obj.put("Status","Failure"); 
			obj.put("Message",  "No Records");
			return obj.toString();
		}


	}


	public String getusercompletedetails(int userid) throws Exception{

		try{

			List<UserProfile> userProfile=userProfileDaoImpl.findByuserid(userid);
			List<User> user=userDaoImpl.findByuserid(userid);
			if( user.size()>0){

				for(User o1:user){

					obj.put("Status","Success"); 

					obj.put("UserId", o1.getUserId());
					obj.put("UserName", o1.getUserName());
					obj.put("MobileNo", o1.getMobile());
					obj.put("Email", o1.getEmail());
					if(o1.getLocation()!=null)
						obj.put("Location", o1.getLocation());
					else
						obj.put("Location", " ");
					obj.put("Lattitude", o1.getLattitude());
					obj.put("Longtitude", o1.getLongtitude());
					obj.put("Createdon",o1.getCreatedon()); 


				}}
			else{
				obj.put("Status","Failure"); 
				obj.put("Message", "No Records");
			}

			if( userProfile.size()>0){
				for(UserProfile o:userProfile){			

					obj.put("ProfileIdId", o.getProfileid());
					
					obj.put("ProfilePic",LolaConstants.url+o.getProfilepic());
					
					if(o.getDob()!=null)
						obj.put("DOB", o.getDob());
					else
						obj.put("DOB", " ");
					if(o.getSalutation()!=null)
						obj.put("salutation",o.getSalutation());
					else
						obj.put("salutation"," ");	

					if(o.getGender()!=null)
						obj.put("Gender", o.getGender());
					else
						obj.put("Gender"," ");	
					
					if(o.getBaseLocation()!=null)
						obj.put("baselocation", o.getBaseLocation());
					else
						obj.put("baselocation", " ");
					
					if(o.getMycities()!=null)
						obj.put("mycities", o.getMycities());
					else
						obj.put("mycities", " ");
					
					obj.put("Maritalstatus",o.isMaritalstatus());
					obj.put("Veg", o.isVeg());
					if(o.getWeddinganv()!=null)
						obj.put("Weddinganv", o.getWeddinganv());
					else
						obj.put("Weddinganv", " ");

					obj.put("Createdon",o.getCreatedon()); 


				}
			}


			return obj.toString();

		}catch(Exception e){
			obj.put("Status","Failure"); 
			obj.put("Message", "No Records");
			return obj.toString().replace("\\", "");
		}


	}



	public static void main (String args[]) throws Exception{

		UserProfileUtility userProfileUtility =new UserProfileUtility();
		
		System.out.println(userProfileUtility.setDealAndOfferStatus(5, true));
		
	}
	
	
	public String setDealAndOfferStatus(int userId,boolean status){
		UserProfile userProfile =new UserProfile();
		 List<User> user=userDaoImpl.findByuserid(userId);
		 if(user.size()>0){
			 
			 List<UserProfile> user1= userProfileDaoImpl.findByuserid(userId);
			 if(user1.size()>0){
				 if(status)
					 userProfile.setDealnoffer(true);
				 else
					 userProfile.setDealnoffer(false);
				 for(UserProfile o:user1){
					 
				 userProfile.setProfileid(o.getProfileid());
				 userProfile.setUserid(o.getUserid());
				 }
				 userProfileDaoImpl.update(userProfile);
			 }
		 }
		return "success";
	}
}
